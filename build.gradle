apply plugin: 'java'
apply plugin: 'eclipse'
apply plugin: 'antlr'

def typhonVersion = '0.3.1'

repositories {
	jcenter()
	mavenCentral()
	
    maven {
		url 'http://dl.bintray.com/iconmaster5326/maven'
	}
}

configurations {
    getLibs
}

dependencies {
	compile 'info.iconmaster:typhon:'+typhonVersion
	antlr "org.antlr:antlr4:4.5"
	
	getLibs 'info.iconmaster:typhon:'+typhonVersion
	getLibs 'info.iconmaster:typhon:'+typhonVersion+':sources'
	getLibs 'org.antlr:antlr4:4.5'
	getLibs 'org.antlr:antlr4:4.5:sources'
}

task getLibs(type: Copy) {
	from configurations.getLibs.resolve()
	into 'lib/'
	
	rename 'typhon-([^-]*).jar', 'typhon.jar'
	rename 'typhon-([^-]*)-sources.jar', 'typhon-sources.jar'
}

eclipseProject {
	dependsOn getLibs
}